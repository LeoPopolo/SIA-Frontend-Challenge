<main class="Home">
  <section class="Home__filters">
    <app-product-filters (onFilterChange)="handleFilterChange($event)"></app-product-filters>
  </section>

  <section class="Home__content">
    <h1 class="Home__content__title">Productos</h1>

    <div class="Home__content__cards">
      @if (loading()) {
        @for (item of [1,2,3,4,5,6,7,8]; track $index) {
          <ngx-skeleton-loader
            count="1"
            [theme]="{
              'border-radius': '20px',
              'width': '100%',
              'height': '350px'
            }">
          </ngx-skeleton-loader>
        }
      } @else {
        @for (product of products(); track $index) {
          <app-card
            [id]="product.id"
            [header]="'$' + product.price"
            [subHeader]="product.name"
            [detail]="product.category"
            [actionTitle]="'Ver producto'"
            [imageUrl]="product.image"
            (onAction)="gotoProductDetail(product.id)">
          </app-card>
        }

        @if (!products().length) {
          <p class="Home__content__empty">No se encontraron productos</p>
        }
      }
    </div>
  </section>
</main>
